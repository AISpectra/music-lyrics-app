const r="/api/tadb/api/v1/json/2",l="/api/lyrics/v1";async function o(a){let n=null;try{n=await a.json()}catch{}if(!a.ok)throw{name:"servicesError",message:n||{status:a.status}};return n}class u{async searchArtists(n){const e=`${r}/search.php?s=${encodeURIComponent(n)}`,t=await fetch(e).then(o);return(t==null?void 0:t.artists)||[]}async artistById(n){var s;const e=`${r}/lookup.php?i=${encodeURIComponent(n)}`,t=await fetch(e).then(o);return((s=t==null?void 0:t.artists)==null?void 0:s[0])||null}async searchTracks(n){var s,c;const e=`${r}/searchtrack.php?track=${encodeURIComponent(n)}`;let t=await fetch(e).then(o);if((s=t==null?void 0:t.track)!=null&&s.length)return t.track;if(n.includes("-")){const[i,p]=n.split("-").map(h=>h.trim());if(i&&p){const h=`${r}/searchtrack.php?s=${encodeURIComponent(i)}&t=${encodeURIComponent(p)}`;if(t=await fetch(h).then(o),(c=t==null?void 0:t.track)!=null&&c.length)return t.track}}return[]}async topTracksByArtist(n){const e=`${r}/track-top10.php?s=${encodeURIComponent(n)}`,t=await fetch(e).then(o);return(t==null?void 0:t.track)||[]}async albumsByArtist(n){const e=`${r}/searchalbum.php?s=${encodeURIComponent(n)}`,t=await fetch(e).then(o);return(t==null?void 0:t.album)||[]}async lyrics(n,e){const t=`${l}/${encodeURIComponent(n)}/${encodeURIComponent(e)}`,s=await fetch(t);let c=null;try{c=await s.json()}catch{}if(!s.ok)throw{name:"servicesError",message:c||{status:s.status}};return(c==null?void 0:c.lyrics)||""}}export{u as A};
