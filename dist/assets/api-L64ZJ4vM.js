const r="https://theaudiodb.com/api/v1/json/2",u="https://api.lyrics.ovh/v1";async function o(a){let n=null;try{n=await a.json()}catch{}if(!a.ok)throw{name:"servicesError",message:n||{status:a.status}};return n}class l{async searchArtists(n){const s=`${r}/search.php?s=${encodeURIComponent(n)}`,t=await fetch(s).then(o);return(t==null?void 0:t.artists)||[]}async artistById(n){var e;const s=`${r}/artist.php?i=${encodeURIComponent(n)}`,t=await fetch(s).then(o);return((e=t==null?void 0:t.artists)==null?void 0:e[0])||null}async searchTracks(n){var e,c;const s=`${r}/searchtrack.php?track=${encodeURIComponent(n)}`;let t=await fetch(s).then(o);if((e=t==null?void 0:t.track)!=null&&e.length)return t.track;if(n.includes("-")){const[i,p]=n.split("-").map(h=>h.trim());if(i&&p){const h=`${r}/searchtrack.php?s=${encodeURIComponent(i)}&t=${encodeURIComponent(p)}`;if(t=await fetch(h).then(o),(c=t==null?void 0:t.track)!=null&&c.length)return t.track}}return[]}async topTracksByArtist(n){const s=`${r}/track-top10.php?s=${encodeURIComponent(n)}`,t=await fetch(s).then(o);return(t==null?void 0:t.track)||[]}async albumsByArtist(n){const s=`${r}/searchalbum.php?s=${encodeURIComponent(n)}`,t=await fetch(s).then(o);return(t==null?void 0:t.album)||[]}async lyrics(n,s){const t=`${u}/${encodeURIComponent(n)}/${encodeURIComponent(s)}`,e=await fetch(t);let c=null;try{c=await e.json()}catch{}if(!e.ok)throw{name:"servicesError",message:c||{status:e.status}};return(c==null?void 0:c.lyrics)||""}}export{l as A};
